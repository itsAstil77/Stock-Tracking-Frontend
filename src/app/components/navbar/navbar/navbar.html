<!-- <div class="container"> -->
<!--Top Navbar -->
<nav class="navbar">
  <button class="menu-button" (click)="toggleSidebar()">&#9776;</button>
  <div class="navbar-title">Stock Tracking</div>




  <div class="navbar-right">
    <span class="username">{{ loggedInUsername }}</span>

    <div class="user-dropdown-container" (click)="toggleUserDropdown()" tabindex="0" (blur)="hideUserDropdown()">
      <img src="assets/user.png" alt="User Icon" class="navbar-logo1" />


      <div class="user-dropdown" *ngIf="showUserDropdown">
        <!-- <a (click)="goToProfile()">My Profile</a> -->
        <a (click)="changePassword()">Change Password</a>
        <!-- <a (click)="support()">Help & Support</a> -->
        <a (click)="logout()">Logout</a>
      </div>
    </div>
  </div>


  <img src="assets/PurpleIQ.png" alt="Logo" class="navbar-logo" />

</nav>


<!-- Sidebar and Main Content -->
<div class="wrapper">
  <!-- Sidebar -->
  <aside class="sidebar" [class.collapsed]="isSidebarCollapsed">
    <ul class="menu">
      <li class="menu-item" (click)="setActive('dashboard')" [class.active]="activeMenuItem === 'dashboard'">
        <div class="tooltip-container">
          <img src="assets/dashboard.png" routerLink="/dashboard" alt="Dashboard Icon" class="menu-icon" />
          <a routerLink="/dashboard" [class.hidden]="isSidebarCollapsed" class="menu-text">Dashboard</a>
          <span class="tooltip-text" [ngStyle]="{ left: isSidebarCollapsed ? '70px' : '250px' }">Dashboard</span>
        </div>
      </li>
      <li class="menu-item" (click)="setActive('scan-creator')" [class.active]="activeMenuItem === 'scan-creator'">
        <div class="tooltip-container">
          <img src="assets/excel.png" routerLink="/scan-creator" alt="scan-creator Icon" class="menu-icon" />
          <a routerLink="/scan-creator" [class.hidden]="isSidebarCollapsed" class="menu-text">Excel Scan Creator</a>
          <span class="tooltip-text" [ngStyle]="{ left: isSidebarCollapsed ? '70px' : '250px' }">Excel Scan
            Creator</span>
        </div>

      </li>

      <li class="menu-item" (click)="setActive('compare-excel')" [class.active]="activeMenuItem === 'compare-excel'">
        <div class="tooltip-container">
          <img src="assets/spreadsheet.png" routerLink="/compare-excel" alt="Dashboard Icon" class="menu-icon" />
          <a routerLink="/compare-excel" [class.hidden]="isSidebarCollapsed" class="menu-text">Compare Excel</a>
          <span class="tooltip-text" [ngStyle]="{ left: isSidebarCollapsed ? '70px' : '250px' }">Compare Excel</span>
        </div>

      </li>


      <li class="menu-item admin-dropdown" (click)="toggleAdministration()"
        [class.active]="activeMenuItem === 'administration'">
        <div class="tooltip-container">
          <img src="assets/administration.png" alt="Administration Icon" class="menu-icon" />
          <span class="menu-text" [class.hidden]="isSidebarCollapsed">Administration</span>
          <span class="tooltip-text" [ngStyle]="{ left: isSidebarCollapsed ? '70px' : '250px' }">Administration</span>
        </div>
      </li>
      <div class="admin-right-panel" *ngIf="isAdminExpanded"
        [ngStyle]="{ left: isSidebarCollapsed ? '70px' : '250px' }">

        <div class="admin-title">

          <img src="assets/administration.png" alt="Administration Icon" class="admin-icon" />
          <span class="admin-text">Administration</span>
        </div>
        <ul class="admin-sub-menu">
          <li class="sub-menu-item" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
            <a routerLink="/user-management" (click)="closeAdminPanel()">User Management</a>
          </li>
        </ul>

        <!-- <div class="arrow">

          <img src="assets/arrow.png" alt="Dropdown Arrow" class="admin-icon" (click)="closeAdminPanel()" />

        </div> -->

          <div class="arrow" [ngStyle]="{ left: isSidebarCollapsed ? '70px' : '250px' }">
          <img src="assets/arrow3.png" alt="Dropdown Arrow" class="arrow-icon" (click)="closeAdminPanel()" />
        </div>
      </div>


    </ul>
  </aside>


  <div class="content">
    <router-outlet></router-outlet> <!-- ðŸš€ This will load reports and other components -->
  </div>

</div>



<!-- Update Password Modal -->
<div class="modal" *ngIf="isUpdate">
  <div class="modal-content">
    <p>Update Password</p>
    <form [formGroup]="passwordForm" (ngSubmit)="updatePassword()">
      <div class="form-grid">
        <div class="form-group">
          <label>Current Password:</label>
          <input type="password" formControlName="currentPassword" />
        </div>
        <div class="form-group">
          <label>New Password:</label>
          <input type="password" formControlName="newPassword" />
        </div>
        <div class="form-group">
          <label>Confirm New Password:</label>
          <input type="password" formControlName="confirmNewPassword" />
        </div>
      </div>
      <div class="modal-buttons">
        <button type="submit">Update</button>
        <button type="button" (click)="closePopup()">Close</button>
      </div>
    </form>
  </div>
</div>